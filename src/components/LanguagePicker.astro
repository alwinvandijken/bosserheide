---
import { languages } from '../i18n/ui';
import { getLangFromUrl, useTranslatedPath, getRouteFromUrl } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);
const route = getRouteFromUrl(Astro.url);

const localizedContent = {
	nl: {
		title: 'Talen'
	},
	en: {
		title: 'Languages'
	},
	de: {
		title: 'Sprachen'
	}
};
const content = localizedContent[localizedContent[lang] ? lang : 'en'];
---
<p><strong>{content.title}</strong></p>
<ul class="footer-link__list">
	{Object.entries(languages).map(([lang, label]) => (
		<li>
			<a href={translatePath(`/${route ? route : ''}`, lang)}>{label}</a>
			<!--<a href={translatePath('/', lang)}>{label}</a>-->
		</li>
	))}
</ul>
